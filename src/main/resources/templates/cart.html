<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Gi·ªè h√†ng c·ªßa b·∫°n</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <nav class="navbar navbar-dark bg-dark mb-4">
        <div class="container">
            <a class="navbar-brand" href="/">‚¨Ö Ti·∫øp t·ª•c mua s·∫Øm</a>
        </div>
    </nav>

    <div class="container bg-white p-4 rounded shadow-sm">
        <h2 class="mb-4">Gi·ªè h√†ng c·ªßa b·∫°n üõí</h2>

        <div th:if="${cartItems.isEmpty()}" class="text-center py-5">
            <h4>Gi·ªè h√†ng ƒëang tr·ªëng!</h4>
            <a href="/" class="btn btn-primary mt-3">ƒêi mua gi√†y ngay</a>
        </div>

        <div th:unless="${cartItems.isEmpty()}">
            <table class="table table-hover align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>·∫¢nh</th>
                        <th>T√™n s·∫£n ph·∫©m</th>
                        <th>Gi√°</th>
                        <th>S·ªë l∆∞·ª£ng</th>
                        <th>Th√†nh ti·ªÅn</th>
                        <th>H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item : ${cartItems}">
                        <td><img th:src="${item.image}" style="width: 80px; height: 80px; object-fit: cover;"
                                class="rounded"></td>
                        <td th:text="${item.name}" class="fw-bold"></td>
                        <td th:text="${#numbers.formatDecimal(item.price, 0, 'POINT', 0, 'COMMA')} + ' ƒë'"></td>
                        <td th:text="${item.quantity}"></td>
                        <td th:text="${#numbers.formatDecimal(item.price * item.quantity, 0, 'POINT', 0, 'COMMA')} + ' ƒë'"
                            class="text-danger fw-bold"></td>
                        <td>
                            <a th:href="@{/cart/remove/{id}(id=${item.productId})}"
                                class="btn btn-sm btn-danger">X√≥a</a>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="d-flex justify-content-between align-items-center mt-4 border-top pt-3">
                <h4>T·ªïng c·ªông: <span class="text-danger fw-bold"
                        th:text="${#numbers.formatDecimal(totalPrice, 0, 'POINT', 0, 'COMMA')} + ' VNƒê'"></span></h4>
                <a href="/checkout" class="btn btn-success btn-lg">Ti·∫øn h√†nh thanh to√°n üëâ</a>
            </div>
        </div>
    </div>

</body>

</html>